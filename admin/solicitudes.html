<!DOCTYPE html>
<html lang="es-MX">

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SICI &middot; Solicitudes</title>
  <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
  <link rel="icon" href="https://img.icons8.com/external-justicon-lineal-color-justicon/64/
  external-inventory-business-management-justicon-lineal-color-justicon.png">
  <style>
    body{
      background: #F1F1F5; /*Verde: #009574 -> #74BEC1; Azul: #002E60 -> #345177 | #516091*/
      /*background: #1F1F29;
      color: #F1F1F5;*/ /*Modo oscuro*/
    }
    nav{
      background: #345177;
    }
    .tbl-container{
      max-height: fit-content;
      min-width: fit-content;
    }
    .tbl-fixed{
      overflow-x: scroll;
      overflow-y: scroll;
      max-height: 60vh;
    }
    table{
      min-width: max-content;
    }
    thead{
      position: sticky;
      top: 0;
      background: #009574;
      color: white;
      /*background-color: #6682a0;*/
    }
    /*.table-dark thead{
      --bs-table-bg: #009574;
    }*/ /*Modo oscuro*/
    footer{
      background: #345177;
      /*background-color: #335880;
      color: white;*/
      width: 100%;
    }
    a {
            text-decoration: none;
    }
  </style>

</head>

<body>
  
  <header class="sticky-top">
    <nav class="navbar navbar-expand-lg navbar-dark mb-2">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">
          <img width="30" height="30" src="https://img.icons8.com/external-justicon-lineal-color-justicon/64/
                external-inventory-business-management-justicon-lineal-color-justicon.png"
            class="d-inline-block align-text-top" alt="Logo SICI"/>
          SICI
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a class="nav-link" href="index.html">Inicio</a>
            <a class="nav-link active" aria-current="page" href="#">Inventario</a>
            <!-- <a class="nav-link" aria-current="page" href="#">Solicitudes</a> -->
            <!-- <a class="nav-link disabled">Deshabilitado</a> -->
          </div>
        </div>
      </div>
    </nav>
  </header>
  
  <div class="container tbl-container">
    
    <h1>
      <center>Centro de Cómputo 10</center>
    </h1>

    <hr class="featurette-divider">

    <div class="row">
      <div class="col col-6">
        <h1>
          <center>Lista de inventario</center>
        </h1>
      </div>
      <div class="col col-6">
        <h1>
          <center>Solicitudes</center>
        </h1>
      </div>
    </div>

    <div class="row">
      <!-- Lista de inventario vía Finanzas -->
      <div class="tbl-fixed col col-6">

        <table class="table table-striped table-hover" id="tabla"> <!-- class="table-dark" para el modo oscuro -->
          <thead>
            <tr>
              <th scope="col">ID Artículo</th>
              <th scope="col">Nombre</th>
              <th scope="col">Tipo</th>
              <th scope="col">Marca</th>
              <th scope="col">Estatus</th>
            </tr>
          </thead>
          <tbody id="listaInv">
            <tr>
              <th scope="row">UI8UBCYE5C6EB</th>
              <td>Laptop</td>
              <td>Equipo Electrónico</td>
              <td>Dell</td>
              <td>Activo</td>
            </tr>
            <tr>
              <th scope="row">IEHCNSGB7TBG7</th>
              <td>PC</td>
              <td>Equipo Electrónico</td>
              <td>N/A</td>
              <td>Activo</td>
            </tr>
            <tr>
              <th scope="row">FERF78ERFBR7D</th>
              <td>Silla</td>
              <td>Inmueble</td>
              <td>N/A</td>
              <td>Activo</td>
            </tr>
            <tr>
              <th scope="row">CERUVHER8Y773</th>
              <td>Mouse</td>
              <td>Equipo Electrónico</td>
              <td>Logitech</td>
              <td>Baja</td>
            </tr>
            <tr>
              <th scope="row">BYI8TYBVT7RG7</th>
              <td>Mesa</td>
              <td>Inmueble</td>
              <td>N/A</td>
              <td>Mantenimiento</td>
            </tr>
          </tbody>

        </table>

      </div>
      <!-- Solicitudes de préstamo y mantenimiento -->
      <div class="tbl-fixed col col-6">
        
        <table class="table table-striped table-hover" id="solicitudes"> <!-- class="table-dark" para el modo oscuro -->
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Usuario</th>
              <th scope="col">Departamento</th>
              <th scope="col">ID Artículo</th>
              <th scope="col">Fecha y hora</th>
              <th scope="col">Acción</th>
            </tr>
          </thead>
          <tbody id="solicitudes">
            <tr>
              <th scope="row">1</th>
              <td>Katy Legarreta</td>
              <td>Soporte/TI</td>
              <td>UI8UBCYE5C6EB</td>
              <td>07/03/2023 13:10</td>
              <td><a onclick="aceptar(this);">Aceptar</a> <a onclick="rechazar(this);">Rechazar</a></td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td>Katy Legarreta</td>
              <td>Soporte/TI</td>
              <td>IEHCNSGB7TBG7</td>
              <td>07/03/2023 13:12</td>
              <td><a onclick="aceptar(this);">Aceptar</a> <a onclick="rechazar(this);">Rechazar</a></td>
            </tr>
            <tr>
              <th scope="row">3</th>
              <td>Franco Mendoza</td>
              <td>DATID</td>
              <td>FERF78ERFBR7D</td>
              <td>08/03/2023 10:10</td>
              <td><a onclick="aceptar(this);">Aceptar</a> <a onclick="rechazar(this);">Rechazar</a></td>
            </tr>
          </tbody>

        </table>

      </div>
    </div>
  </div>

  <footer class="fixed-bottom d-flex flex-wrap justify-content-between align-items-center px-4 py-2 border-top text-white">
    <p class="col-md-4 mb-0 text-body-secondary">&copy; 2023 Integradora &middot; UTEZ</p>

    <a href="http://www.utez.edu.mx/" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
      <img width="100" height="50" src="../img/Logo UTEZ.png" alt="Inicio SICI"/>
    </a>

    <ul class="nav col-md-4 justify-content-end">
      <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Bonzi Buddy Team</a></li>
    </ul>
  </footer>

  <script>
    getParameter = (key) => {
      address = window.location.search; // url de la ventana actual
      // Objeto de tipo URLSearchParams
      parameterList = new URLSearchParams(address);
      // Regresa el valor del parámetro “key”
      return parameterList.get(key);
    }

    function registrarProducto() {

      /*Obtener los anteriores
      var datos = document.getElementsByTagName("table")[0].rows;
      var data = {}
      Array.from(datos).forEach(element => {
        console.log(element.innerHTML);
      });*/
      var arrTipo = ["Inmobiliario", "Equipo electrónico"];
      var arrUbi = ["CC10", "Aula doble", "Cableado", "Bodega Netacad", "Salon de Maestros"];
      var nombreArt = getParameter("nombreArt");
      var tipoArt = getParameter("tipoArt");
      var marcaArt = getParameter("marcaArt");
      var ubiArt = getParameter("ubiArt");
      var estado = "Activo";
      i = 2;
      
      var aux1 = tipoArt;
      var aux2 = ubiArt;

      tipoArt = arrTipo[aux1 - 1];
      ubiArt = arrUbi[aux2 - 1];

      if ((nombreArt != null && marcaArt != null) && (tipoArt != null && ubiArt != null)) {
        if ((nombreArt != "" && marcaArt != "") && (tipoArt != "" && ubiArt != "")) {
          //alert("Se registro un numevo articulo");
          tabla = document.getElementById("cuerpoTabla");
          nuevoRegistro = document.createElement("tr");

          id = document.createElement("th");
          id.innerHTML = i;
          id.scope = "row";

          nombre = document.createElement("td");
          nombre.innerHTML = nombreArt;

          tipo = document.createElement("td");
          tipo.innerHTML = tipoArt;

          marca = document.createElement("td");
          marca.innerHTML = marcaArt;

          ubicacion = document.createElement("td");
          ubicacion.innerHTML = ubiArt;

          estado2 = document.createElement("td");
          estado2.innerHTML = estado;

          elimina = document.createElement("td");
          accion = document.createElement("a");
          accion.innerHTML = "Eliminar";
          accion.addEventListener("click", () => { eliminar(accion); });
          elimina.appendChild(accion);

          nuevoRegistro.appendChild(id);
          nuevoRegistro.appendChild(nombre);
          nuevoRegistro.appendChild(tipo);
          nuevoRegistro.appendChild(marca);
          nuevoRegistro.appendChild(ubicacion);
          nuevoRegistro.appendChild(estado2);
          nuevoRegistro.appendChild(elimina)
          tabla.appendChild(nuevoRegistro)
        }
      }

    }

    window.addEventListener("load", registrarProducto);

    function eliminar(element) {
      element.parentElement.parentElement.remove();
    }
  </script>
  <script src="../js/bootstrap.js"></script>
</body>

</html>